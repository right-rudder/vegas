---
import ImageComp from "../ImageComp.astro";
import { FaArrowRight } from "react-icons/fa";

const { data } = Astro.props;
---

<section class="relative isolate bg-accent-100 text-accent-100">
  <div class="mx-auto max-w-7xl relative py-20 flex flex-col gap-20 sm:px-5 md:px-8 lg:px-10">
    {
      data.map((item: any, index: number) => {
        if (index % 2 === 0) {
          return (
            <div class="flex flex-col relative overflow-hidden sm:rounded-lg xl:rounded-none xl:overflow-visible xl:flex-row">
              <div class="hidden [clip-path:polygon(75%_0%,100%_50%,75%_100%,0%_100%,25%_50%,0%_0%)] absolute z-10 -left-8 top-0 bg-primary-600 h-[448px] w-lg xl:block" />
              <div class="hidden [clip-path:polygon(75%_0%,100%_50%,75%_100%,0%_100%,25%_50%,0%_0%)] absolute z-10 left-8 top-0 bg-primary-600 h-[448px] w-lg xl:block" />
              <ImageComp
                src={item.img.src}
                alt={item.img.alt}
                quality={70}
                class="object-cover object-center z-10 left-0 top-0 h-80 w-full xl:[clip-path:polygon(75%_0%,100%_50%,75%_100%,0%_100%,25%_50%,0%_0%)] xl:absolute xl:h-[448.5px] xl:w-lg"
              />

              <div class="flex flex-col justify-between p-6 bg-accent-700 xl:rounded-r-lg xl:pl-[32.5%] xl:ml-48 xl:h-[448px]">
                <div>
                  <h3 class="text-2xl font-extrabold mb-2 text-primary-600 flex gap-2 items-center">
                    <span set:html={item.icon} />
                    {item.title}
                  </h3>

                  <h4 class="text-xl font-bold mb-6">{item.subTitle}</h4>

                  <p class="mt-1 text-lg leading-snug font-extralight whitespace-pre-line">
                    {item.content}
                  </p>
                </div>

                <a href={item.cta.url} class="btn-primary w-fit ml-auto mt-10">
                  {item.cta.text}
                  <FaArrowRight />
                </a>
              </div>
            </div>
          );
        } else {
          return (
            <div class="flex flex-col relative overflow-hidden sm:rounded-lg xl:rounded-none xl:overflow-visible xl:flex-row">
              <div class="hidden [clip-path:polygon(100%_0%,75%_50%,100%_100%,25%_100%,0%_50%,25%_0%)] absolute z-10 -right-8 top-0 bg-primary-600 h-[448px] w-lg xl:block" />
              <div class="hidden [clip-path:polygon(100%_0%,75%_50%,100%_100%,25%_100%,0%_50%,25%_0%)] absolute z-10 right-8 top-0 bg-primary-600 h-[448px] w-lg xl:block" />
              <ImageComp
                src={item.img.src}
                alt={item.img.alt}
                quality={70}
                class="object-cover object-center z-10 right-0 top-0 h-80 w-full xl:[clip-path:polygon(100%_0%,75%_50%,100%_100%,25%_100%,0%_50%,25%_0%)] xl:absolute xl:h-[448.5px] xl:w-lg"
              />

              <div class="flex flex-col justify-between p-6 bg-accent-700 xl:rounded-l-lg xl:pr-[32.5%] xl:mr-48 xl:h-[448px]">
                <div>
                  <h3 class="text-2xl font-extrabold mb-2 text-primary-600 flex gap-2 items-center">
                    <span set:html={item.icon} />
                    {item.title}
                  </h3>

                  <h4 class="text-xl font-bold mb-6">{item.subTitle}</h4>

                  <p class="mt-1 text-lg leading-snug font-extralight whitespace-pre-line">
                    {item.content}
                  </p>
                </div>

                <a href={item.cta.url} class="btn-primary w-fit mr-auto mt-10">
                  {item.cta.text}
                  <FaArrowRight />
                </a>
              </div>
            </div>
          );
        }
      })
    }
  </div>
</section>
