---
import ImageComp from "./ImageComp.astro";
import { FaArrowRight } from "react-icons/fa";

import { data } from "../data/program-list";

const { isTimeline = false } = Astro.props;
---

<section id="program-list" class=`relative isolate text-accent-900 bg-linear-to-b bg-accent-100`>
  <div class="mx-auto max-w-7xl px-5 py-16 md:px-8 lg:px-10">
    <div class="flex flex-col gap-6 text-center sm:text-left xl:gap-4 xl:flex-row xl:items-start xl:justify-between">
      <div class="max-w-3xl">
        <p class="eyebrow-dark inline-flex items-center gap-2 tracking-widest">
          {data.eyebrow}
        </p>
        <h2 class="text-4xl sm:text-5xl font-extrabold leading-tight tracking-tight">
          {data.heading}
        </h2>
        <p class="mt-4 md:text-lg/8">{data.subheading}</p>
      </div>

      <a href={data.moreHref} class="btn-primary self-start mx-auto sm:ml-0 sm:mr-auto md:self-center xl:mx-0">
        {data.moreLabel}
        <FaArrowRight />
      </a>
    </div>

    <!-- Cards -->
    <div class="mt-10 grid gap-6 grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 relative">
      {
        data.items.map((item) => (
          <a href={item.href} class="group relative overflow-hidden rounded-lg">
            <ImageComp
              src={item.img.src}
              alt={item.img.alt}
              quality={70}
              class="h-64 sm:h-72 md:h-80 w-full object-cover transition duration-500 group-hover:scale-[1.03] group-hover:brightness-110 group-hover:contrast-105"
            />

            <div class="pointer-events-none absolute inset-0 bg-linear-to-b from-black/40 via-black/20 to-black/60 transition-colors duration-300 group-hover:from-black/25 group-hover:via-black/10 group-hover:to-black/40" />

            {isTimeline && item.data && (
              <div class="absolute top-4 left-4 right-4 flex flex-col gap-2 font-force-roboto">
                <span class="font-bold text-xl text-primary-500">{item.data.cost}</span>
                <span class="font-medium text-lg text-accent-50">{item.data.duration}</span>
              </div>
            )}

            <div class="absolute top-4 right-4">
              <div class="flex items-center justify-center rounded-full text-primary-500 bg-white/10 backdrop-blur px-2 py-2 border border-white/15 transition group-hover:bg-white/20 group-hover:border-white/25">
                <FaArrowRight />
              </div>
            </div>

            <div class="absolute inset-0 flex flex-col justify-end p-5">
              <h3 class="text-lg sm:text-xl font-extrabold drop-shadow [text-shadow:0_1px_1px_rgba(0,0,0,.45)] min-h-7">
                <span class="text-primary-500">{item.title}</span>
              </h3>
              <p class="mt-1 text-sm text-accent-50 max-w-sm min-h-10 leading-snug">{item.desc}</p>
            </div>
          </a>
        ))
      }
    </div>

    <div class="mt-10 text-center text-md">
      Your Aviation Career Starts Here
      <a
        href="/enroll"
        class="inline-flex items-center gap-1 font-semibold transition-colors duration-300 ease-in-out text-primary-700 hover:text-primary-500"
      >
        Register Now
        <FaArrowRight />
      </a>
    </div>
  </div>
</section>
